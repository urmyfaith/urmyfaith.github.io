<!DOCTYPE HTML>
<html>
<head>
<!--百度轻应用-->
    <script type="text/javascript" name="baidu-tc-cerfication" data-appid="5027706" src="http://apps.bdimg.com/cloudaapi/lightapp.js"></script>
  
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
  <meta name="description" content="z2ex">
  <meta name="author" content="z2xy">
  <meta name="keywords" content="模板设计模式, z2xy, z2xy">
  <title>模板设计模式 - z2xy</title>
  <link rel="canonical" href="http://5i01314.vipsinaapp.com//blog/2014/10/20/Design_pattern_Template.html">
  <link rel="icon" id="icon"  href="/res/img/icon/1.ico" type="image/x-icon">
  <link rel="shortcut icon" id="shortcut_icon" href="/res/img/icon/1.ico" type="image/x-icon">
  <link rel="stylesheet" href="/res/css/public.css">
  <link rel="stylesheet" href="/res/css/light.css">


  

  <script src="/res/js/light.js"></script>
  <script>
  var _hmt = _hmt || [];
  (function() {
    var hm = document.createElement("script");
    hm.src = "//hm.baidu.com/hm.js?";
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(hm, s);
  })();
</script>
</head>
<body>
  <div id="blog">
    <div class="sidebar">
  <div class="profilepic">
    <a href="/"><img src="/res/img/icon.jpg" alt="logo"></img></a>
  </div>
  <h1 class="title" ><a href="/" ><font id="change">z2xy</font></a></h1>
  <h2 class="sub-title" >The time is passing</h2>
  <nav id="nav">
    <ul>
    
      <li><a href="/page/timing.html"><i class="fa fa-clock-o"></i>&nbsp;时间穿梭</a></li>
    
      <li><a href="/page/category.html"><i class="fa fa-tags"></i>&nbsp;文章分类</a></li>
    
      <li><a href="/page/resource.html"><i class="fa fa-book"></i>&nbsp;资源收藏</a></li>
    
      <li><a href="/page/about.html"><i class="fa fa-star"></i>&nbsp;关于作者</a></li>
    
    </ul>
  </nav>  
  <nav id="sub-nav">
    <a class="weibo " href="http://weibo.com/autumn_0528" title="新浪微博" target="_blank"><i class="fa fa-weibo"></i></a>
    <a class="github" href="https://github.com/urmyfaith" title="GitHub" target="_blank"><i class="fa fa-github fa-2x"></i></a>
    <a class="rss" href="/page/feed.xml" title="RSS订阅" target="_blank"><i class="fa fa-rss"></i></a>
  </nav>
  <div id="license">
    <a href="http://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" title="本站所有作品采用：&#10;知识共享《署名 非商业性使用 相同方式共享 3.0》&#10;进行许可" >
    <img alt="License" height="31" width="88" src="/res/img/license.png" /></a>
  </div>
</div>



   <script>
    window.self.setInterval("reviseColor()",10000);
    function reviseColor(){
	var dom = window.document;
	var f = dom.getElementById("change");
	("white"==f.style.color) ? (f.style.color = "red") : (("red" == f.style.color) ? (f.style.color = "green") :  ("green" == f.style.color)?f.style.color = "blue":(f.style.color = "white"));

	}
   </script>
    <div class="main">
    <header class="post-header">
  <h1 class="post-title"><a href="/blog/2014/10/20/Design_pattern_Template.html">模板设计模式</a></h2>
  <p class="post-meta">
    <i class="fa fa-calendar"></i>
    2014年10月20日
    <i class="space"></i>
    <i class="fa fa-tag"></i>
    <a class="post-category" href="/page/category.html#设计模式">设计模式</a>
	<br />
	<i class="fa fa-tags"></i>
	<a class="post-category" href="/page/tags.html#设计模式">设计模式</a><i class="space"></i><a class="post-category" href="/page/tags.html#模板模式">模板模式</a><i class="space"></i><a class="post-category" href="/page/tags.html#模板方法模式">模板方法模式</a><i class="space"></i><a class="post-category" href="/page/tags.html#Template">Template</a><i class="space"></i>
  </p>
</header>
<div class="post-main">
<h2 id="section">模板设计模式</h2>

<p><strong>模版模式设计步骤</strong></p>

<pre><code>	1. 写出解决某一类问题的固有的模版代码
	2. 抽取模版代码中可变的部分，形成独立的函数
	3. 可变部分抽取的函数定义为抽象函数，类定义为抽象类
	4. 创建实现类继承并实现父类的未实现的函数
	5. 为了避免子类重写父类的模版代码，需要将模版代码修饰为final
</code></pre>

<!-- more -->

<div class="highlight"><pre><code class="language-java" data-lang="java"><span class="kd">abstract</span> <span class="kd">class</span> <span class="nc">RunCode</span> <span class="c1">//3.有抽象方法code()所以必须定义为抽象类</span>
	<span class="o">{</span>
		<span class="c1">// 1.计算一段代码的运行时间</span>
		<span class="kd">public</span> <span class="kd">final</span> <span class="kt">void</span> <span class="nf">getRuntime</span><span class="o">(){</span>	<span class="c1">//5.方法为最终代码final修饰</span>
		    <span class="c1">// 获取运行前系统的当前时间  毫秒  一秒 = 1000毫秒</span>
		<span class="kt">long</span> <span class="n">start</span> <span class="o">=</span> <span class="n">System</span><span class="o">.</span><span class="na">currentTimeMillis</span><span class="o">();</span> 
			<span class="c1">// 测试代码</span>
			<span class="n">code</span><span class="o">();</span>		<span class="c1">//2.调用需要测试运行时间的方法,</span>
			<span class="c1">// 运行结束后获取系统的当前时间</span>
		<span class="kt">long</span> <span class="n">end</span> <span class="o">=</span> <span class="n">System</span><span class="o">.</span><span class="na">currentTimeMillis</span><span class="o">();</span> 
			<span class="c1">//结束时间减开始时间等于运行用时</span>
		   <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;运行时间： &quot;</span> <span class="o">+</span> <span class="o">(</span> <span class="n">end</span> <span class="o">-</span> <span class="n">start</span> <span class="o">)</span> <span class="o">);</span>
		<span class="o">}</span>
		<span class="kd">public</span> <span class="kd">abstract</span> <span class="kt">void</span> <span class="nf">code</span><span class="o">();</span><span class="c1">//3.不知这方法如何实现,定义成抽象</span>
	<span class="o">}</span></code></pre></div>

<div class="highlight"><pre><code class="language-java" data-lang="java"><span class="kd">class</span> <span class="nc">MyRunCode</span> <span class="kd">extends</span> <span class="n">RunCode</span>	<span class="c1">//4.实现类 继承抽象类</span>
	<span class="o">{</span>
	    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">code</span><span class="o">(){</span>			<span class="c1">//4.实现抽象方法</span>
			 <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span><span class="n">i</span><span class="o">&lt;</span><span class="mi">100</span> <span class="o">;</span><span class="n">i</span><span class="o">++</span> <span class="o">)</span>
			 <span class="o">{</span>
				 <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;目前打印的是第&quot;</span><span class="o">+</span><span class="n">i</span><span class="o">+</span><span class="s">&quot;次&quot;</span><span class="o">);</span>
			 <span class="o">}</span>
		<span class="o">}</span>
	<span class="o">}</span></code></pre></div>

<div class="highlight"><pre><code class="language-java" data-lang="java"><span class="kd">class</span> <span class="nc">Demo</span>		<span class="c1">//演示类 </span>
	<span class="o">{</span>
		<span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> 
		<span class="o">{</span>
			<span class="k">new</span> <span class="nf">MyRunCode</span><span class="o">().</span><span class="na">getRuntime</span><span class="o">();</span>		<span class="c1">//调用</span>
		<span class="o">}</span>
	<span class="o">}</span></code></pre></div>

<hr />

<p><strong>模板设计模式方式二: 接口版</strong></p>

<p>接口版比较适合在同一个类中出现重复代码时 将重复代码封装成一个函数.定义接口,与接口实现类进行实现</p>

<p>案例:</p>

<div class="highlight"><pre><code class="language-java" data-lang="java"><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">tu</span><span class="o">.</span><span class="na">test</span><span class="o">;</span>
	<span class="kn">import</span> <span class="nn">org.junit.Test</span><span class="o">;</span>
	<span class="cm">/***</span>
<span class="cm">	 * 模板设计模式基于接口版</span>
<span class="cm">	 * @author ComTu</span>
<span class="cm">	 */</span>
	<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Template_Inter</span> <span class="o">{</span>
		<span class="c1">//接口</span>
		<span class="kd">public</span> <span class="kd">interface</span> <span class="nc">RunCode_inter</span><span class="o">{</span>  <span class="c1">//1.编写接口</span>
			<span class="kt">void</span> <span class="nf">code</span><span class="o">();</span>  <span class="c1">//2.编写抽象方法 (接口中方法默认是abstract)</span>
		<span class="o">}</span>
		<span class="c1">//模板块  //3.编写一个模板代码方法需要带接口类型的参数.</span>
		<span class="kd">public</span> <span class="kt">void</span> <span class="nf">RunCode</span><span class="o">(</span><span class="n">RunCode_inter</span> <span class="n">runcode</span><span class="o">){</span>
			<span class="c1">//运行时的毫秒数</span>
			<span class="kt">long</span> <span class="n">start</span> <span class="o">=</span> <span class="n">System</span><span class="o">.</span><span class="na">currentTimeMillis</span><span class="o">();</span>
			<span class="n">runcode</span><span class="o">.</span><span class="na">code</span><span class="o">();</span>  <span class="c1">//4.调用接口的code方法 </span>
			<span class="c1">//结束运行的毫秒数</span>
			<span class="kt">long</span> <span class="n">end</span> <span class="o">=</span> <span class="n">System</span><span class="o">.</span><span class="na">currentTimeMillis</span><span class="o">();</span>
			<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;运行时间: &quot;</span><span class="o">+(</span><span class="n">end</span><span class="o">-</span><span class="n">start</span><span class="o">));</span>
		<span class="o">}</span>
		<span class="c1">//测试函数</span>
		<span class="nd">@Test</span>
		<span class="kd">public</span> <span class="kt">void</span> <span class="nf">startFor</span><span class="o">(){</span> 
			<span class="n">RunCode</span><span class="o">(</span><span class="k">new</span> <span class="nf">RunCode_inter</span><span class="o">(){</span> <span class="c1">//5.模板块 ( 创建接口实现类 )</span>
				<span class="nd">@Override</span>
				<span class="kd">public</span> <span class="kt">void</span> <span class="nf">code</span><span class="o">()</span> <span class="o">{</span> <span class="c1">//6.需要在模板中执行的代码</span>

					<span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">10000</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
						<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;i : &quot;</span><span class="o">+</span><span class="n">i</span><span class="o">);</span>
					<span class="o">}</span>
				<span class="o">}</span>
			<span class="o">});</span>
		<span class="o">}</span>
	<span class="o">}</span></code></pre></div>

<p>如果非要在其它类中进行调用的话可以使用如下方法:</p>

<div class="highlight"><pre><code class="language-java" data-lang="java"><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">tu</span><span class="o">.</span><span class="na">test</span><span class="o">;</span>
	<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Test</span> <span class="o">{</span>
		<span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
			<span class="c1">//导入  类名.接口名  类似与java.util.Map.Entry  Map接口.Entry接口</span>
			<span class="k">new</span> <span class="nf">Template_Inter</span><span class="o">().</span><span class="na">RunCode</span><span class="o">(</span><span class="k">new</span> <span class="n">com</span><span class="o">.</span><span class="na">tu</span><span class="o">.</span><span class="na">test</span><span class="o">.</span><span class="na">Template_Inter</span><span class="o">.</span><span class="na">RunCode_inter</span><span class="o">(){</span> <span class="c1">//5.模板块 (创建接口实现类)</span>
				<span class="nd">@Override</span>
				<span class="kd">public</span> <span class="kt">void</span> <span class="nf">code</span><span class="o">()</span> <span class="o">{</span><span class="c1">//6.模板中执行的代码.</span>
					<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;运行的代码...&quot;</span><span class="o">);</span>
				<span class="o">}</span>
			<span class="o">});</span>
		<span class="o">}</span>
	<span class="o">}</span></code></pre></div>

<hr />

</div>
<div class="share">
  <div class="bdsharebuttonbox">
    <a href="#" class="bds_more" data-cmd="more"></a>
    <a href="#" class="bds_qzone" data-cmd="qzone" title="分享到QQ空间"></a>
    <a href="#" class="bds_tsina" data-cmd="tsina" title="分享到新浪微博"></a>
  </div>
  <script>window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"1","bdMiniList":["qzone","tsina","weixin","sqq"],"bdPic":"","bdStyle":"0","bdSize":"16"},"share":{}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='/res/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];</script>
</div>
<div class="pagination">

<a class="pagination-item newer" href="/blog/2014/10/20/Design_pattern_Singleton.html"><i class="fa fa-arrow-left"></i>&nbsp;&nbsp;单例设计模式</a>


<span class="pagination-item older">下一篇&nbsp;<i class="fa fa-chain-broken"></i></span>

</div>
<style>#ds-reset .ds-avatar img{border-radius:50%;}</style>
<div class="comments">
  <div class="ds-thread" data-title="模板设计模式" data-thread-key="/blog/2014/10/20/Design_pattern_Template" data-url="http://5i01314.vipsinaapp.com//blog/2014/10/20/Design_pattern_Template.html"></div>
  <script type="text/javascript">var duoshuoQuery = {short_name:""};(function(){var ds = document.createElement('script');ds.type = 'text/javascript';ds.async = true;ds.src = '/res/js/embed.js';ds.charset = 'UTF-8';(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(ds);})();</script>
</div>
    <footer>Copyright&nbsp;&copy;&nbsp;2015 <a href="http://5i01314.vipsinaapp.com/">z2xy</a><br/><i class="fa fa-cogs" style="color:blueviolet;">&nbsp;</i>Powered by <a href="http://jekyllrb.com/" target="_blank">Jekyll</a></footer>
    </div>
  </div>    
  <div id="top"><a id="rocket" href="javascript:;" title="返回顶部"><i></i></a></div>
  
</body>
</html>
